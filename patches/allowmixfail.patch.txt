Currently an outputdevice will not work without a mixer device, except
for the specially handled devices /dev/pcaudio and /dev/pcdsp.
For those the config parses sets "isPCSpeaker" to 1, which in turn forces
auvoxware.c to skip mixer initialisation (It also forces the settings
"rate = minrate = maxrate = 8000", nostereo and 8bit wordsize).

This patch allows the mixer initialisation to fail.
With this patch "aoss nasd" works, without it would fail (aoss is the
alsa oss wrapper script, which simply preloads libaoss.so, a wrapper
library similar to libaudiooss).

Combining this with the alsa dmix feature should allow nas to coexist
with other daemons like artsd.

See also
http://alsa.opensrc.org/index.php?page=Dmix+Kde+-+arts%2C+ESD+and+SDL+quick+and+dirty+HOWTO

Example /etc/asound.conf:

pcm.mix {
  type dmix
  ipc_key 1024
  ipc_perm 0666  # I'd love to use perm 0660 and gid audio,
                 # but there's no gid-support (FIXME?)
  slave {
    pcm "hw:0,0"
    period_time 0
    period_size 1024
    buffer_size 8192
    rate 44100
    format "S16_LE"
    #periods 128
  }
  bindings {
    0 0  # from 0 => to 0
    1 1  # from 1 => to 1
  }
}

pcm.!default {
  type plug
  slave.pcm "mix"
}

pcm.dsp0 pcm.default
#end of /etc/asound.conf




